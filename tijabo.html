<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Arbyte Book Store â€” Preview Working</title>

  <!-- Basic styles (embedded so it's single-file) -->
  <style>
    :root{
      --bg:#f5f7fb;
      --card:#ffffff;
      --muted:#6b7280;
      --accent:#0b5fff;
      --shadow: 0 6px 18px rgba(15,23,42,0.08);
      font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    }
    *{box-sizing:border-box}
    body{margin:0;background:var(--bg);color:#111;font-family:inherit;line-height:1.35}
    header{display:flex;align-items:center;justify-content:space-between;padding:14px 20px;background:white;box-shadow:var(--shadow);position:sticky;top:0;z-index:30}
    .logo-container{display:flex;align-items:center;gap:12px}
    .logooos{height:44px;width:auto;border-radius:6px}
    .hamburger{display:none;padding:8px 12px;border-radius:8px;border:1px solid #eee;background:#fff;cursor:pointer}
    .nav-right{display:flex;align-items:center;gap:10px}
    input[type="text"]{padding:8px 12px;border-radius:8px;border:1px solid #e3e8ef;width:220px}
    .signin{padding:8px 10px;border-radius:8px;border:none;background:var(--accent);color:#fff;cursor:pointer}
    .cart{padding:8px 10px;border-radius:8px;border:1px solid #e3e8ef;background:#fff;cursor:pointer}
    nav.nav-links{display:flex;gap:16px;padding:10px 20px;background:transparent;color:var(--muted);flex-wrap:wrap}
    nav.nav-links a{color:var(--muted);text-decoration:none}
    .welcome-container{padding:36px 20px;background:linear-gradient(90deg,#f6f9ff, #ffffff);display:flex;align-items:center;justify-content:center}
    .welcome-text{max-width:900px;text-align:center}
    .welcome-text h1{margin:0;font-size:28px}
    .book-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:16px;padding:20px}
    .book-card{background:var(--card);padding:12px;border-radius:10px;box-shadow:var(--shadow);display:flex;flex-direction:column;gap:10px;align-items:center;text-align:center}
    .book-card img{width:120px;height:160px;object-fit:cover;border-radius:6px}
    .book-card h3{margin:0;font-size:16px}
    .book-card p{margin:0;color:var(--muted)}
    .book-card button{padding:8px 10px;border-radius:8px;border:none;background:var(--accent);color:#fff;cursor:pointer}
    footer{padding:20px;background:#fff;border-top:1px solid #f0f0f0;display:flex;gap:20px;flex-wrap:wrap}
    .footer-section{min-width:160px}
    .social{font-size:18px;color:var(--muted)}
    /* Popup */
    .cart-popup{position:fixed;right:20px;bottom:20px;width:320px;background:var(--card);border-radius:12px;box-shadow:0 18px 50px rgba(2,6,23,0.15);transform:translateY(20px);opacity:0;pointer-events:none;transition:transform .25s ease,opacity .25s ease;z-index:60;overflow:hidden}
    .cart-popup.show{transform:translateY(0);opacity:1;pointer-events:auto}
    .popup-content{display:flex;gap:12px;padding:14px;align-items:flex-start}
    .popup-content img{width:80px;height:100px;object-fit:cover;border-radius:8px}
    .popup-info h2{margin:0;font-size:16px}
    .popup-info p{margin:6px 0;color:var(--muted);font-size:14px}
    .popup-actions{display:flex;gap:8px;margin-top:8px}
    .btn-ghost{background:transparent;border:1px solid #e6e9f2;padding:8px;border-radius:8px;cursor:pointer}
    .btn-primary{background:var(--accent);color:#fff;border:none;padding:8px;border-radius:8px;cursor:pointer}
    .close-btn{background:#fff;border:none;color:var(--muted);cursor:pointer;font-size:16px}
    /* Detail modal (full-screen overlay) */
    .detail-modal{position:fixed;left:0;top:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;background:rgba(2,6,23,0.5);z-index:80;opacity:0;pointer-events:none;transition:opacity .18s ease}
    .detail-modal.show{opacity:1;pointer-events:auto}
    .detail-card{width:92%;max-width:820px;background:var(--card);border-radius:12px;padding:18px;box-shadow:var(--shadow);display:flex;gap:16px}
    .detail-card img{width:180px;height:240px;object-fit:cover;border-radius:8px}
    .detail-body{flex:1}
    .detail-body h3{margin:0}
    .detail-body p{color:var(--muted)}
    /* Responsive */
    @media (max-width:860px){
      .hamburger{display:inline-block}
      nav.nav-links{display:none}
      input[type="text"]{width:140px}
    }
  </style>
</head>
<body>

  <!-- HEADER -->
  <header>
    <div class="logo-container">
      <a href="index.html"><img class="logooos" src="./my logo/Untitled-99.png" alt="Arbyte Logo"></a>
      <button class="hamburger" id="hamburger-btn">â˜°</button>
    </div>

    <div class="nav-right">
      <input type="text" id="search" placeholder="Search books...">
      <a href="singINform.html"><button class="signin">ðŸ”‘ Sign In</button></a>
      <button class="cart" id="cart-button">ðŸ›’ Cart (<span id="cart-count">0</span>)</button>
    </div>
  </header>

  <!-- NAV -->
  <nav class="nav-links" id="main-nav">
    <a href="index.html">Home</a>
    <a href="books.html">Books</a>
    <a href="it books.html">Info-Technology</a>
    <a href="about us.html">About Me</a>
    <a href="comingsoon.html">Coming soon...</a>
    <a href="#">Others</a>
    <a href="#">Help</a>
  </nav>

  <!-- MOBILE MENU (hidden desktop) -->
  <div class="mobile-menu" id="mobile-menu" style="display:none;position:fixed;left:0;top:0;width:100%;height:100%;background:rgba(0,0,0,0.6);z-index:70;">
    <div style="background:#fff;padding:20px;height:100%;overflow:auto;">
      <button id="close-mobile" style="border:none;background:transparent;font-size:24px;cursor:pointer">Ã—</button>
      <div style="display:flex;flex-direction:column;gap:12px;margin-top:12px">
        <a href="index.html">Home</a>
        <a href="books.html">Books</a>
        <a href="it books.html">Info-Technology</a>
        <a href="about us.html">About Me</a>
        <a href="comingsoon.html">Coming soon...</a>
        <a href="#">Others</a>
        <a href="#">Help</a>
        <input type="text" id="search-mobile" placeholder="Search books..." style="margin-top:14px;padding:8px;border-radius:8px;border:1px solid #eee">
      </div>
    </div>
  </div>

  <!-- WELCOME -->
  <section class="welcome-container">
    <div class="welcome-text">
      <h1><span class="weyn">WELCOME TO Arbyte</span><br><span class="bookss">BOOK STORE</span></h1>
      <p>Discover, learn and grow with our collection of programming and tech books.</p>
    </div>
  </section>

  <!-- FEATURED BOOKS -->
  <section class="featured-books">
    <h2 style="padding-left:20px">ðŸ“š Featured Books</h2>
    <div class="book-grid" id="book-grid">
      <!-- Cards will be filled by JS (keeps HTML clean) -->
    </div>
  </section>

  <!-- CART PREVIEW POPUP -->
  <div id="cart-popup" class="cart-popup" aria-hidden="true">
    <div class="popup-content">
      <img id="popup-img" src="" alt="Book image">
      <div class="popup-info">
        <h2 id="popup-title"></h2>
        <p id="popup-price"></p>
        <p id="popup-chapters"></p>

        <div class="popup-actions">
          <button class="btn-ghost" id="view-book-btn">View Book</button>
          <button class="btn-primary" id="buy-now-btn">Buy Now</button>
          <button class="close-btn" id="popup-close-btn">âœ•</button>
        </div>
      </div>
    </div>
  </div>

  <!-- DETAIL MODAL -->
  <div id="detail-modal" class="detail-modal" aria-hidden="true">
    <div class="detail-card" role="dialog" aria-modal="true">
      <img id="detail-img" src="" alt="Book">
      <div class="detail-body">
        <h3 id="detail-title"></h3>
        <p id="detail-price" style="font-weight:600;margin-top:6px"></p>
        <p id="detail-chapters" style="margin-top:8px;color:var(--muted)"></p>
        <p id="detail-desc" style="margin-top:12px;color:var(--muted)"></p>

        <div style="margin-top:14px;display:flex;gap:10px">
          <button class="btn-primary" id="detail-buy">Buy Now</button>
          <button class="btn-ghost" id="detail-close">Close</button>
        </div>
      </div>
    </div>
  </div>

  <!-- FOOTER -->
  <footer>
    <div class="footer-logo">
      <img class="logooos" src="./my logo/Untitled-99.png" alt="logo" style="height:56px">
      <div style="margin-top:8px"><i class="fa-brands fa-facebook social"></i> <i class="fa-brands fa-square-instagram social"></i></div>
    </div>

    <div class="footer-section">
      <h4>Quick Links</h4>
      <ul style="padding-left:16px;margin:6px 0;color:var(--muted)">
        <li>Books</li><li>Info Tech</li><li>Coming Soon..</li><li>Others</li><li>Help</li>
      </ul>
    </div>

    <div class="footer-section">
      <h4>Contact</h4>
      <ul style="padding-left:16px;margin:6px 0;color:var(--muted)">
        <li>Email: info@arbyte.com</li>
        <li>Phone: +252 61 9 12 79 78</li>
        <li>Location: Mogadishu, Somalia</li>
      </ul>
    </div>
  </footer>

  <!-- SCRIPT: Data + Logic (single file) -->
  <script>
    // ---------- BOOK DATA (10 books) ----------
    const bookData = [
      {
        id: "js-essentials",
        title: "JavaScript Essentials",
        price: "$19.99",
        img: "./photos/cover.jpg",
        chapters: "Variables, Functions, DOM, Events, ES6",
        description: "A compact guide to modern JavaScript â€” from basics through ES6 features and the DOM."
      },
      {
        id: "py-beginners",
        title: "Python for Beginners",
        price: "$24.99",
        img: "./photos/python.jpeg",
        chapters: "Syntax, Loops, Functions, OOP, Libraries",
        description: "Start coding in Python quickly. Practical examples, exercises and real-world projects."
      },
      {
        id: "html-css",
        title: "Mastering HTML & CSS",
        price: "$17.49",
        img: "./photos/html and css.png",
        chapters: "HTML Basics, CSS Styling, Flexbox, Grid, Responsive Design",
        description: "Design and build responsive web pages using modern HTML and CSS techniques."
      },
      {
        id: "react-made-easy",
        title: "React Made Easy",
        price: "$21.00",
        img: "./photos/react js.png",
        chapters: "JSX, Components, Props, State, Hooks",
        description: "A practical introduction to building modern web apps with React and hooks."
      },
      {
        id: "learn-cpp",
        title: "Learn C++ in 21 Days",
        price: "$15.99",
        img: "./photos/cbe401fa-ce4b-4644-985f-e2bb42b909ef_28_WhyC++.avif",
        chapters: "Syntax, Pointers, OOP, STL, Memory Management",
        description: "Step-by-step lessons to understand C++ fundamentals and object oriented design."
      },
      {
        id: "ml-ai",
        title: "AI & Machine Learning",
        price: "$29.99",
        img: "./photos/machinejpeg.jpeg",
        chapters: "Regression, Classification, Neural Networks, Evaluation",
        description: "Introductory course to ML algorithms, model evaluation and practical workflows."
      },
      {
        id: "web-design",
        title: "Web Design Fundamentals",
        price: "$18.99",
        img: "./photos/hellowep.jpg",
        chapters: "Layout, Typography, Color, Accessibility, UX",
        description: "Principles of visual design for usable and accessible websites."
      },
      {
        id: "database-systems",
        title: "Database Systems",
        price: "$22.49",
        img: "./photos/sql.jpeg",
        chapters: "SQL, Normalization, Indexes, Transactions, NoSQL",
        description: "Covers relational database theory and practical SQL usage."
      },
      {
        id: "cyber-basics",
        title: "Cybersecurity Basics",
        price: "$20.99",
        img: "./photos/cyber.jpeg",
        chapters: "Threats, Encryption, Network Security, Best Practices",
        description: "Foundational security knowledge for developers and system admins."
      },
      {
        id: "data-handbook",
        title: "Data Science Handbook",
        price: "$27.99",
        img: "./photos/data.jpeg",
        chapters: "Data Cleaning, Visualization, Modeling, Pipelines",
        description: "A comprehensive guide to the data science lifecycle and tools."
      }
    ];

    // ---------- RENDER CARDS ----------
    const grid = document.getElementById('book-grid');
    function renderBooks(list){
      grid.innerHTML = '';
      list.forEach(book => {
        const card = document.createElement('div');
        card.className = 'book-card';
        card.innerHTML = `
          <img src="${book.img}" alt="${escapeHtml(book.title)}">
          <h3>${escapeHtml(book.title)}</h3>
          <p>${escapeHtml(book.price)}</p>
          <button onclick="add(this)" data-id="${book.id}">Add to Cart</button>
        `;
        grid.appendChild(card);
      });
    }
    renderBooks(bookData);

    // ---------- UTIL ----------
    function escapeHtml(s){
      return String(s).replaceAll('&','&amp;').replaceAll('<','&lt;').replaceAll('>','&gt;');
    }

    // ---------- POPUP & MODAL ELEMENTS ----------
    const popup = document.getElementById('cart-popup');
    const popupImg = document.getElementById('popup-img');
    const popupTitle = document.getElementById('popup-title');
    const popupPrice = document.getElementById('popup-price');
    const popupChapters = document.getElementById('popup-chapters');
    const popupCloseBtn = document.getElementById('popup-close-btn');
    const viewBookBtn = document.getElementById('view-book-btn');
    const buyNowBtn = document.getElementById('buy-now-btn');

    const detailModal = document.getElementById('detail-modal');
    const detailImg = document.getElementById('detail-img');
    const detailTitle = document.getElementById('detail-title');
    const detailPrice = document.getElementById('detail-price');
    const detailChapters = document.getElementById('detail-chapters');
    const detailDesc = document.getElementById('detail-desc');
    const detailClose = document.getElementById('detail-close');
    const detailBuy = document.getElementById('detail-buy');

    let popupAutoHideTimer = null;
    let currentBook = null;

    // ---------- ADD TO CART (single function) ----------
    function add(button){
      // increment cart count
      const countEl = document.getElementById('cart-count');
      const current = parseInt(countEl.textContent) || 0;
      countEl.textContent = current + 1;

      // find book id from button dataset
      const id = button.getAttribute('data-id');
      const book = bookData.find(b => b.id === id);
      if(!book){
        alert('Book data not found.');
        return;
      }
      currentBook = book;

      // populate popup
      popupImg.src = book.img;
      popupTitle.textContent = book.title;
      popupPrice.textContent = book.price;
      popupChapters.textContent = 'Chapters: ' + book.chapters;

      // show popup
      showPopup();

      // Alert ON as requested
      alert(`You added "${book.title}" to cart.`);
    }

    // ---------- SHOW / HIDE POPUP ----------
    function showPopup(){
      popup.classList.add('show');
      popup.setAttribute('aria-hidden','false');
      if(popupAutoHideTimer) clearTimeout(popupAutoHideTimer);
      popupAutoHideTimer = setTimeout(() => {
        hidePopup();
      }, 7000);
    }
    function hidePopup(){
      popup.classList.remove('show');
      popup.setAttribute('aria-hidden','true');
    }

    popupCloseBtn.addEventListener('click', hidePopup);

    // ---------- VIEW BOOK (opens detail modal) ----------
    viewBookBtn.addEventListener('click', ()=>{
      if(!currentBook) return;
      detailImg.src = currentBook.img;
      detailTitle.textContent = currentBook.title;
      detailPrice.textContent = currentBook.price;
      detailChapters.textContent = 'Chapters: ' + currentBook.chapters;
      detailDesc.textContent = currentBook.description;
      openDetailModal();
    });

    function openDetailModal(){
      detailModal.classList.add('show');
      detailModal.setAttribute('aria-hidden','false');
    }
    function closeDetailModal(){
      detailModal.classList.remove('show');
      detailModal.setAttribute('aria-hidden','true');
    }
    detailClose.addEventListener('click', closeDetailModal);

    // clicking outside detail-card closes modal
    detailModal.addEventListener('click', (e)=>{
      if(e.target === detailModal) closeDetailModal();
    });

    // ---------- BUY NOW (popup button) ----------
    buyNowBtn.addEventListener('click', ()=>{
      if(!currentBook) return;
      hidePopup();
      alert(`Proceeding to checkout for "${currentBook.title}" â€” (demo).`);
      // Here you could redirect to checkout: window.location.href = '/checkout?book='+encodeURIComponent(currentBook.id);
    });

    // ---------- DETAIL buy ----------
    detailBuy.addEventListener('click', ()=>{
      if(!currentBook) return;
      closeDetailModal();
      alert(`Proceeding to checkout for "${currentBook.title}" â€” (demo).`);
    });

    // ---------- SEARCH ----------
    function normalize(s){ return s.trim().toLowerCase(); }
    const searchInput = document.getElementById('search');
    const searchMobile = document.getElementById('search-mobile');

    function filterBooks(query){
      const q = normalize(query);
      const filtered = bookData.filter(b => {
        return b.title.toLowerCase().includes(q) || b.price.toLowerCase().includes(q) || b.chapters.toLowerCase().includes(q);
      });
      renderBooks(filtered);
    }

    // debounce helper
    function debounce(fn, wait=180){
      let t;
      return (...args)=>{
        clearTimeout(t);
        t = setTimeout(()=>fn.apply(this,args), wait);
      };
    }
    searchInput.addEventListener('input', debounce((e)=>filterBooks(e.target.value)));
    if(searchMobile) searchMobile.addEventListener('input', debounce((e)=>filterBooks(e.target.value)));

    // ---------- HAMBURGER / MOBILE MENU ----------
    const hamburger = document.getElementById('hamburger-btn');
    const mobileMenu = document.getElementById('mobile-menu');
    const closeMobile = document.getElementById('close-mobile');

    hamburger.addEventListener('click', ()=>{
      mobileMenu.style.display = 'block';
    });
    closeMobile.addEventListener('click', ()=>{
      mobileMenu.style.display = 'none';
    });

    // ---------- UTILITY: keyboard ESC closes modals/popup ----------
    document.addEventListener('keydown', (e)=>{
      if(e.key === 'Escape'){
        hidePopup();
        closeDetailModal();
        mobileMenu.style.display = 'none';
      }
    });

    // ---------- initial accessibility tweaks ----------
    popup.setAttribute('role','status');
    popup.setAttribute('aria-live','polite');
  </script>
</body>
</html>
